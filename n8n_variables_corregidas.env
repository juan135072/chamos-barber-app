# ============================================
# VARIABLES DE ENTORNO PARA N8N EN COOLIFY
# Corregidas para n8n.chamosbarber.com
# ============================================

# URLs y Dominios (CORREGIDO)
SERVICE_FQDN_N8N=n8n.chamosbarber.com
SERVICE_FQDN_N8N_5678=n8n.chamosbarber.com:5678
SERVICE_URL_N8N=https://n8n.chamosbarber.com
SERVICE_URL_N8N_5678=https://n8n.chamosbarber.com:5678

# PostgreSQL (Mantener como está)
SERVICE_PASSWORD_POSTGRES=4mDq4euycyXqbinMMjS8YavTxnDfAxvZ
SERVICE_USER_POSTGRES=1Pxu1EBod0CXe7eR
DB_POSTGRESDB_PASSWORD=$SERVICE_PASSWORD_POSTGRES
DB_POSTGRESDB_USER=$SERVICE_USER_POSTGRES
POSTGRES_DB=n8n
POSTGRES_PASSWORD=$SERVICE_PASSWORD_POSTGRES
POSTGRES_USER=$SERVICE_USER_POSTGRES

# Timezone (CORREGIDO para Chile)
GENERIC_TIMEZONE=America/Santiago
TZ=America/Santiago

# n8n Configuration
N8N_BLOCK_ENV_ACCESS_IN_NODE=true
N8N_EDITOR_BASE_URL=${SERVICE_URL_N8N}
N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true
N8N_GIT_NODE_DISABLE_BARE_REPOS=true
N8N_HOST=${SERVICE_FQDN_N8N}
N8N_PROTOCOL=https
N8N_PORT=5678
N8N_PROXY_HOPS=1
N8N_RUNNERS_ENABLED=true
WEBHOOK_URL=${SERVICE_URL_N8N}

# ============================================
# OPCIONAL: Autenticación Básica (RECOMENDADO)
# Descomenta estas líneas para proteger tu n8n
# ============================================
# N8N_BASIC_AUTH_ACTIVE=true
# N8N_BASIC_AUTH_USER=admin
# N8N_BASIC_AUTH_PASSWORD=ChamosN8N2025!

# ============================================
# VARIABLES ADICIONALES IMPORTANTES
# ============================================
# Database Type (PostgreSQL)
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=postgres
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=n8n

# Execution Mode
EXECUTIONS_MODE=regular
EXECUTIONS_TIMEOUT=3600
EXECUTIONS_TIMEOUT_MAX=7200

# ============================================
# NOTAS:
# - Todas las URLs apuntan a n8n.chamosbarber.com
# - Timezone configurada para Chile (America/Santiago)
# - PostgreSQL incluido con credenciales generadas
# - Se recomienda activar N8N_BASIC_AUTH para seguridad
# ============================================
